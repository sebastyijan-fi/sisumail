# Sisumail Relay Configuration (example)

[domain]
root = "sisumail.fi"
spool_mx_host = "spool.sisumail.fi"

[listen]
ssh = ":22"
tier1_tcp = "[::]:25"
tier2_smtp = ":25"
http = ":443"

[tier1]
# Fast-fail when user has no session, so MTAs are more likely to try MX 20 promptly.
fast_fail_ms = 200

[ipv6]
# Hetzner-provisioned /64 (must be routed to the relay). Example only.
prefix = "2a01:4f8:xxxx::/64"

# One supported v1 method:
# - anyip_local_route: add `ip -6 route add local <prefix> dev lo`
mode = "anyip_local_route"

[dns]
provider = "hetzner"
zone = "sisumail.fi"
# Put secrets in env and reference them here by name if you want.
api_token_env = "HETZNER_DNS_API_TOKEN"

[spool]
enabled_default = true
root_dir = "/var/spool/sisumail"
default_ttl_days = 7
default_max_bytes = 104857600

[limits]
# Tier 1 blind pipe limits (MUST have these in production).
per_user_max_conns = 10
per_user_max_bytes_per_sec = 1048576
per_source_max_conns = 20

